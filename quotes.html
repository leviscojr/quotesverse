<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>InspireMe ‚ú® - Category Quotes</title>
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #6b5b95, #b565a7);
      color: white;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
      transition: background 1.5s ease-in-out;
      animation: gradientShift 12s ease infinite alternate;
      background-size: 300% 300%;
    }

    @keyframes gradientShift {
      0% { background-position: 0% 50%; background-color: #6b5b95; }
      25% { background-position: 50% 50%; background-color: #b565a7; }
      50% { background-position: 100% 50%; background-color: #f76d57; }
      75% { background-position: 50% 100%; background-color: #3ca9d0; }
      100% { background-position: 0% 50%; background-color: #8e44ad; }
    }

    .container {
      text-align: center;
      padding: 40px;
      border-radius: 20px;
      background-color: rgba(255, 255, 255, 0.1);
      box-shadow: 0 4px 15px rgba(0,0,0,0.3);
      animation: fadeSlide 0.6s ease;
      width: 90%;
      max-width: 520px;
      backdrop-filter: blur(10px);
      position: relative;
    }

    h1 {
      margin-bottom: 15px;
      font-size: 1.7rem;
      letter-spacing: 1px;
    }

    .quote-box {
      font-size: 1.3rem;
      font-style: italic;
      margin: 30px 0;
      line-height: 1.6;
      min-height: 100px;
      opacity: 1;
      transition: opacity 0.4s ease-in-out;
    }

    button {
      margin: 8px;
      padding: 10px 18px;
      border: none;
      border-radius: 10px;
      font-size: 1rem;
      cursor: pointer;
      color: white;
      transition: all 0.3s;
    }

    .next-btn { background-color: rgba(255, 255, 255, 0.25); }
    .next-btn:hover { background-color: rgba(255, 255, 255, 0.4); }

    .random-btn { background-color: rgba(255, 255, 255, 0.2); }
    .random-btn:hover { background-color: rgba(255, 255, 255, 0.35); }

    .back-btn { background-color: rgba(255, 255, 255, 0.15); }
    .back-btn:hover { background-color: rgba(255, 255, 255, 0.3); }

    .like-btn {
      background: none;
      border: none;
      cursor: pointer;
      font-size: 1.8rem;
      color: #ffb6c1;
      transition: transform 0.3s ease;
    }

    .like-btn.liked {
      color: #ff3366;
      transform: scale(1.2);
    }

    @keyframes fadeSlide {
      from { opacity: 0; transform: translateY(15px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .floating-heart {
      position: absolute;
      font-size: 1.8rem;
      opacity: 0;
      animation: floatHeart 1s ease-out forwards;
    }

    @keyframes floatHeart {
      0% { transform: translateY(0) scale(1); opacity: 1; }
      100% { transform: translateY(-60px) scale(1.4); opacity: 0; }
    }

    .tools {
      margin-top: 20px;
    }

    .tool-btn {
      font-size: 1.3rem;
      background: none;
      border: none;
      color: white;
      margin: 0 8px;
      cursor: pointer;
      transition: transform 0.3s ease, color 0.3s;
    }

    .tool-btn:hover {
      transform: scale(1.2);
      color: #ffeb99;
    }

    .toast {
      position: fixed;
      bottom: 40px;
      background: rgba(255, 255, 255, 0.2);
      color: white;
      padding: 8px 18px;
      border-radius: 10px;
      font-size: 0.95rem;
      animation: fadeToast 2s ease forwards;
      left: 50%;
      transform: translateX(-50%);
    }

    @keyframes fadeToast {
      0% { opacity: 0; transform: translateY(20px) translateX(-50%); }
      15% { opacity: 1; transform: translateY(0) translateX(-50%); }
      85% { opacity: 1; }
      100% { opacity: 0; transform: translateY(-20px) translateX(-50%); }
    }

    /* Share popup */
    .share-popup {
      position: absolute;
      bottom: 100px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(255, 255, 255, 0.15);
      padding: 15px 25px;
      border-radius: 15px;
      text-align: center;
      animation: fadeSlide 0.3s ease;
      backdrop-filter: blur(8px);
      box-shadow: 0 2px 8px rgba(0,0,0,0.2);
    }

    .share-popup h3 {
      margin-bottom: 10px;
      font-weight: 500;
      font-size: 1rem;
    }

    .share-option {
      background-color: rgba(255,255,255,0.25);
      margin: 5px 0;
      padding: 8px 16px;
      border-radius: 8px;
      border: none;
      color: white;
      cursor: pointer;
      width: 100%;
      font-size: 0.95rem;
      transition: background 0.3s ease;
    }

    .share-option:hover {
      background-color: rgba(255,255,255,0.4);
    }
  </style>
</head>
<body>
  <div class="container category-page">
    <h1 id="categoryTitle">‚ú® Quotes ‚ú®</h1>
    <p id="categoryQuote" class="quote-box">Loading quote...</p>

    <div class="tools">
      <button class="tool-btn like-btn" id="likeQuote">ü§ç</button>
      <button class="tool-btn" id="copyQuote">üìã</button>
      <button class="tool-btn" id="shareBtn">üîó</button>
    </div>

    <div style="margin-top: 25px;">
      <button id="nextCategoryQuote" class="next-btn">Next Quote</button>
      <button id="randomQuote" class="random-btn">üé≤ Random All</button>
      <button id="backHome" class="back-btn">‚¨ÖÔ∏è Back</button>
    </div>

    <!-- Hidden share popup -->
    <div id="sharePopup" class="share-popup" style="display: none;">
      <h3>Share to:</h3>
      <button class="share-option" id="shareWhatsApp">WhatsApp</button>
      <button class="share-option" id="shareInstagram">Instagram</button>
    </div>
  </div>

  <script src="quotes.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const category = localStorage.getItem('selectedCategory');
      const quoteText = document.getElementById('categoryQuote');
      const likeBtn = document.getElementById('likeQuote');
      const nextBtn = document.getElementById('nextCategoryQuote');
      const randomBtn = document.getElementById('randomQuote');
      const backBtn = document.getElementById('backHome');
      const copyBtn = document.getElementById('copyQuote');
      const shareBtn = document.getElementById('shareBtn');
      const sharePopup = document.getElementById('sharePopup');
      const shareWhatsApp = document.getElementById('shareWhatsApp');
      const shareInstagram = document.getElementById('shareInstagram');
      const categoryTitle = document.getElementById('categoryTitle');

      const titles = {
        motivation: "üí™ Motivation & Perseverance",
        love: "‚ù§Ô∏è Love & Relationships",
        wisdom: "üß† Wisdom & Life Lessons",
        success: "üèÜ Success & Ambition",
        mindset: "üßò Mindset & Self-Discipline",
        leadership: "üëë Leadership & Influence",
        courage: "üåç Change & Courage",
        work: "üíº Hustle & Productivity",
        creativity: "‚ú® Creativity & Passion",
        happiness: "‚òÄÔ∏è Happiness & Positivity"
      };

      if (titles[category]) categoryTitle.textContent = titles[category];

      function fadeReplace(element, newText) {
        element.style.opacity = 0;
        setTimeout(() => {
          element.textContent = newText;
          element.style.opacity = 1;
        }, 300);
      }

      let currentQuote = "";
      let favorites = JSON.parse(localStorage.getItem("favorites")) || [];

      function showQuote(quote) {
        fadeReplace(quoteText, `"${quote}"`);
        currentQuote = quote;
        likeBtn.classList.toggle("liked", favorites.includes(quote));
      }

      function getRandomQuoteFromCategory(cat) {
        const catQuotes = quotesData[cat];
        return catQuotes[Math.floor(Math.random() * catQuotes.length)];
      }

      function getRandomQuoteFromAll() {
        const allCats = Object.keys(quotesData);
        const randomCat = allCats[Math.floor(Math.random() * allCats.length)];
        return getRandomQuoteFromCategory(randomCat);
      }

      function createToast(msg) {
        const toast = document.createElement("div");
        toast.className = "toast";
        toast.textContent = msg;
        document.body.appendChild(toast);
        setTimeout(() => toast.remove(), 2000);
      }

      function createFloatingHeart() {
        const heart = document.createElement("div");
        heart.className = "floating-heart";
        heart.textContent = "üíñ";
        heart.style.left = `${likeBtn.getBoundingClientRect().left + 15}px`;
        heart.style.top = `${likeBtn.getBoundingClientRect().top - 10}px`;
        document.body.appendChild(heart);
        setTimeout(() => heart.remove(), 1000);
      }

      // Buttons
      nextBtn.addEventListener("click", () => showQuote(getRandomQuoteFromCategory(category)));
      randomBtn.addEventListener("click", () => showQuote(getRandomQuoteFromAll()));

      likeBtn.addEventListener("click", () => {
        if (!favorites.includes(currentQuote)) {
          favorites.push(currentQuote);
          likeBtn.classList.add("liked");
          createFloatingHeart();
          createToast("Added to Favorites ‚ù§Ô∏è");
        } else {
          favorites = favorites.filter(q => q !== currentQuote);
          likeBtn.classList.remove("liked");
          createToast("Removed from Favorites üíî");
        }
        localStorage.setItem("favorites", JSON.stringify(favorites));
      });

      copyBtn.addEventListener("click", () => {
        navigator.clipboard.writeText(currentQuote);
        createToast("Quote copied üìã");
      });

      shareBtn.addEventListener("click", () => {
        sharePopup.style.display = sharePopup.style.display === "none" ? "block" : "none";
      });

      shareWhatsApp.addEventListener("click", () => {
        const url = `https://wa.me/?text=${encodeURIComponent(currentQuote + " ‚ú® #InspireMe")}`;
        window.open(url, "_blank");
        sharePopup.style.display = "none";
      });

      shareInstagram.addEventListener("click", () => {
        const encoded = encodeURIComponent(currentQuote + " ‚ú® #InspireMe");
        const instagramURL = `intent://story-camera?caption=${encoded}#Intent;package=com.instagram.android;scheme=instagram;end`;
        window.location.href = instagramURL;
        sharePopup.style.display = "none";
      });

      backBtn.addEventListener("click", () => {
        window.location.href = 'index.html';
      });

      showQuote(getRandomQuoteFromCategory(category));
    });
  </script>
</body>
</html>